# Changelog

- v1.4.2
    - Fixed non-integer swapfile sizes ([#142](https://github.com/evolution/wordpress/pull/142))
    - Fixed handling of forwarded IP addresses ([#145](https://github.com/evolution/wordpress/pull/145))
- v1.4.1
    - Added ssh control path in ansible.cfg ([#139](https://github.com/evolution/wordpress/pull/139))
- v1.4.0
    - Added distro & version check in provisioning ([#137](https://github.com/evolution/wordpress/pull/137))
- v1.3.16
    - Fixed ssh fingerprint issue for local vagrant rebuilds ([#130](https://github.com/evolution/wordpress/pull/130))
    - Added reference docs for theme and plugin development ([#132](https://github.com/evolution/wordpress/pull/132))
    - Role for newrelic should only run for prod stage ([#133](https://github.com/evolution/wordpress/pull/133))
- v1.3.15
    - Fixed a whackamole get_url bug that kept coming back ([#129](https://github.com/evolution/wordpress/pull/129))
- v1.3.14
    - Fixed php config path ([#128](https://github.com/evolution/wordpress/pull/128))
- v1.3.13
    - Fixed some ansible deprecation warnings ([#127](https://github.com/evolution/wordpress/pull/127))
    - Added another FAQ entry
- v1.3.12
    - Replaced zip lib and added known host checks in importer ([#122](https://github.com/evolution/wordpress/pull/122))
    - Use google public dns nameservers ([#118](https://github.com/evolution/wordpress/pull/118))
    - Documented datadog generator prompt ([#123](https://github.com/evolution/wordpress/pull/123))
- v1.3.11
    - Bypassed ansible get_url SNI issue ([#114](https://github.com/evolution/wordpress/pull/114))
- v1.3.10
    - Fixed bug with ansible-galaxy and empty roles file ([#112](https://github.com/evolution/wordpress/pull/112))
- v1.3.9
    - Added maintenance and upgrade documentation
    - Added Datadog monitoring ([#108](https://github.com/evolution/wordpress/pull/108))
- v1.3.8
    - Bug fixes for import script, alongside Cambrian [v0.3.0](https://github.com/evolution/wordpress-plugin-cambrian/releases/tag/v0.3.0) ([#107](https://github.com/evolution/wordpress/pull/107))
- v1.3.7
    - Implemented WPcron via system crontab ([#105](https://github.com/evolution/wordpress/pull/105))
    - Updated ansible 2 support ([#106](https://github.com/evolution/wordpress/pull/106))
- v1.3.6
    - Added ESI cache ttl support ([#102](https://github.com/evolution/wordpress/pull/102))
- v1.3.5
    - Added local awstats for remote log analysis ([#96](https://github.com/evolution/wordpress/pull/96))
    - Fixed full boot partition issues ([#98](https://github.com/evolution/wordpress/pull/98))
    - Ensured latest wp-cli on reprovision ([#99](https://github.com/evolution/wordpress/pull/99))
    - Fixed potential git protocal issues ([#100](https://github.com/evolution/wordpress/pull/100))
    - Revamped CI testing ([#101](https://github.com/evolution/wordpress/pull/101))
- v1.3.4
    - Fixed functional tests ([#94](https://github.com/evolution/wordpress/pull/94))
    - Customized apache logrotate config ([#95](https://github.com/evolution/wordpress/pull/95))
- v1.3.3
    - Fixed generator dependency issues on Ubuntu ([#92](https://github.com/evolution/wordpress/pull/92))
- v1.3.2
    - Several suhosin bugfixes (9fef3ab, 7017c3a, 458d32e)
- v1.3.1
    - Fixed awk escape sequence bug ([#86](https://github.com/evolution/wordpress/pull/86))
- v1.3.0
    - Fixed regeneration of existing READMEs ([#85](https://github.com/evolution/wordpress/pull/85))
    - Added php hardening role ([#54](https://github.com/evolution/wordpress/pull/54))
    - Added ansible role defaults where applicable ([#84](https://github.com/evolution/wordpress/pull/84))
    - Added Cambrian importer ([#66](https://github.com/evolution/wordpress/pull/66))
- v1.2.4
    - Added swapfile provisioning ([#83](https://github.com/evolution/wordpress/pull/83))
- v1.2.3
    - Fixed permissions issue on cleanup of old releases ([#82](https://github.com/evolution/wordpress/pull/82))
- v1.2.2
    - Fixed rsync host key checking ([#79](https://github.com/evolution/wordpress/pull/79))
    - Fixed rsync file time warnings ([#80](https://github.com/evolution/wordpress/pull/80))
    - Fixed SSL generator prompt ([#81](https://github.com/evolution/wordpress/pull/81))
- v1.2.1
    - Fixed host verification from within vm ([#75](https://github.com/evolution/wordpress/pull/75))
    - Customized php `upload_max_filesize` ([#76](https://github.com/evolution/wordpress/pull/76))
    - Added apt autoremove on provision
    - Added vagrant performance tweaks ([#78](https://github.com/evolution/wordpress/pull/78))
- v1.2.0
    - Added/refined workflow documentation
    - Fixed vagrant private key issues ([#59](https://github.com/evolution/wordpress/pull/59))
    - Fixed lingering url issues for production and branch stages ([#56](https://github.com/evolution/wordpress/pull/56))
- v1.1.4
    - Gitignore enhancements ([#68](https://github.com/evolution/wordpress/pull/68) and [#69](https://github.com/evolution/wordpress/pull/69))
    - Significant documentation of workflows ([#70](https://github.com/evolution/wordpress/pull/70))
- v1.1.3 - Fixed potential issue with db host using implicit local socket vs explicit TCP/IP ([#67](https://github.com/evolution/wordpress/pull/67))
- v1.1.2 - Fixed sync and pathing issues with wp-cli ([#64](https://github.com/evolution/wordpress/pull/64))
- v1.1.1
    - Deploy of non-master to staging opens branch subdomain in browser ([#62](https://github.com/evolution/wordpress/pull/62))
    - Shortened apt cache valid time ([#65](https://github.com/evolution/wordpress/pull/65))
- v1.1.0 - Fixed bower version range
- v1.0.16
    - Updated Vagrantfile box name and removed box_url
    - Fixed relative url issues ([#37](https://github.com/evolution/wordpress/pull/37))
- v1.0.15
    - Added www option ([#51](https://github.com/evolution/wordpress/pull/51))
    - Fixed Vagrant 1.7.0+ issue with ssh key insertion
    - Incorporated htaccess/vhost tweaks for security/performance ([#52](https://github.com/evolution/wordpress/pull/52))
    - Added optional new relic app/server monitoring ([#53](https://github.com/evolution/wordpress/pull/53))
    - Fixed wordpress tagged version support([#55](https://github.com/evolution/wordpress/pull/55))
- v1.0.14 - More enhancements, better WIP docs, and another SSL tweak
    - Added expanded README with quickstart ([#43](https://github.com/evolution/wordpress/pull/43))
    - Replaced vagrant shell provisioning ([#44](https://github.com/evolution/wordpress/pull/44))
    - Fixed SSL detection and hashing issues ([#45](https://github.com/evolution/wordpress/pull/45))
    - Open url after deployment ([#47](https://github.com/evolution/wordpress/pull/47))
    - Added robots.txt ([#48](https://github.com/evolution/wordpress/pull/48))
- v1.0.13 - Several bugfixes + enhancements:
    - Vagrantfile overriding default ssh port forwarding ([#27](https://github.com/evolution/wordpress/pull/27))
    - Standardized prod subdomain for ansible/capistrano ([#39](https://github.com/evolution/wordpress/pull/39))
    - Upgraded pound for SSL fix ([#40](https://github.com/evolution/wordpress/pull/40))
    - Generator dependency checking ([#41](https://github.com/evolution/wordpress/pull/41))
    - Generator infers settings for existing projects ([#42](https://github.com/evolution/wordpress/pull/42))
- v1.0.12 - Fix postinstall break
- v1.0.11 - Ensure backup core theme on postinstall, fix ssh key permissions on provision, ensure up/down tasks compatible with genesis task names
- v1.0.10 - Fix init.d calls, add `reboot`, fix branch inference for deployment
- v1.0.9 - Restore user role in full provisioning
- v1.0.8 - Add explicit creation of deploy user, before full provisioning
- v1.0.7 - Add --ask-sudo-pass
- v1.0.6 - Fix Evolution handling of top level domains
- v1.0.5 - Fix bower.json version
- v1.0.4 - Add firewall role, fix formatting of provision.yml
- v1.0.3 - Fix pkg.version in init script
- v1.0.2 - Add SSL and private/public prompts to generator
- v1.0.1 - Clean up bower postinstall and yeoman generator, add role prompts
- v1.0.0 - Initial release as **Evolution Wordpress**
    - Ubuntu upgrade from 12.04 precise to 14.04 trusty
        - Apache upgrade from [2.2 to 2.4](http://httpd.apache.org/docs/2.4/upgrading.html)
        - PHP upgrade from [5.3 to 5.5](http://php.net/manual/en/migration55.php)
    - Capistrano upgrade from [2.15.* to 3.2.1](http://capistranorb.com/documentation/upgrading/)
    - Wordpress as a dependency, via Bower
        - Versioned themes and plugins live outside the wp codebase
        - Only uploads need be synced between local & remote
    - [WP CLI](http://wp-cli.org/) support
    - Multiple wordpress environments supported on same server
    - Multi environment SSL support via [Pound](http://www.apsis.ch/pound) & [SNI](http://en.wikipedia.org/wiki/Server_Name_Indication)
    - Easy log viewing for Apache (access & error), Varnish, and Pound
    - Modular roles via Ansible (easy disabling of Varnish, Pound, etc)
- v0.2.55 - `genesis:provision` works despite `Net:SSH` failures ([#131](https://github.com/genesis/wordpress/pull/131))
- v0.2.54 - Rewrite supports HTTPS ([#101](https://github.com/genesis/wordpress/issues/101))
- v0.2.53 - Introduce `genesis:up:limited` for rsync'ing only the shared folders ([#80](https://github.com/genesis/wordpress/pull/80))
- v0.2.52 - Sensible Apache2 defaults ([#116](https://github.com/genesis/wordpress/pull/116))
- v0.2.51 - Add `Gemfile` to generator ([#126](https://github.com/genesis/wordpress/pull/126))
- v0.2.50 - Fix duplication of `genesis:backup` and `genesis:down` ([122](https://github.com/genesis/wordpress/pull/122))
- v0.2.49 - Fix variable sustitution in `provision.yml` [f334764](https://github.com/genesis/wordpress/commit/f334764ad5e36ef847fe6752fb43cc553b74fde4)
- v0.2.48 - Fix for `$` in passwords ([113](https://github.com/genesis/wordpress/pull/113))
- v0.2.47 - Automatically `cleanup` after `deploy` ([112](https://github.com/genesis/wordpress/pull/112))
- v0.2.46 - Legacy variable substitution([109](https://github.com/genesis/wordpress/pull/109))
- v0.2.45 - Add `genesis:backup:db` command ([120](https://github.com/genesis/wordpress/pull/120))
- v0.2.44 - Explicitly bypassing bower interactive prompts during deployment
- v0.2.43 – Revert `5afaf80`, fixes v0.2.38
- v0.2.42
    - `auto_correct` Vagrant SSH port
    - Default to latest WordPress
    - Add tests ([#69](https://github.com/genesis/wordpress/pull/96))
- v0.2.41 – Fix Varnish cookie bug ([#90](https://github.com/genesis/wordpress/pull/90))
- v0.2.40 – Set hostname on each machine ([#45](https://github.com/genesis/wordpress/pull/45))
- v0.2.39 – Revert v0.2.37 (aa9e83f)
- v0.2.38 – Move events to after `deploy:update_code` ([#82](https://github.com/genesis/wordpress/pull/82))
- v0.2.37 – Fix isues with Varnish ([#62](https://github.com/genesis/wordpress/pull/62):
    - Cleaned up cookie logic in `production.vcl` (see #28, and 3fd9d0c)
    - Fixed wp cookie check in `receive/wordpress.vcl` (see 9c2f358)
    - Changed varnish to file backend (see #53)
    - Removed cache bypassing for local env (see fa96873)
    - Removed caching of static files (see 99eb9ad)
    - Piping `wp-(login|admin)` instead of passing (see 89cb137)
- v0.2.36 – Add `postfix` ([#72](https://github.com/genesis/wordpress/pull/72))
- v0.2.35 – Add `genesis:teardown` ([#55](https://github.com/genesis/wordpress/pull/55)) & fix `date.timezone` ([#73](https://github.com/genesis/wordpress/pull/73))
- v0.2.34 – Default to WordPress 3.7.1 ([#74](https://github.com/genesis/wordpress/pull/74))
- v0.2.33 – Allow two-part TLDs ([#77](https://github.com/genesis/wordpress/issues/77https://github.com/genesis/wordpress/issues/77))
- v0.2.32 – Fix issue with adding `deploy` user to `www-data` group ([#70](https://github.com/genesis/wordpress/pull/70))
- v0.2.31 – Attempt to fix issues with `genesis:permissions` ([#54](https://github.com/genesis/wordpress/pull/54))
- v0.2.30
    - Run `vagrant up` prior to `genesis:up:db` and `genesis:down:db` ([#59](https://github.com/genesis/wordpress/pull/59))
    - Use VirtualBox's `natdnshostresolver1` to resolve DNS ([#65](https://github.com/genesis/wordpress/pull/65/files))
    - [Ensure SSH port is not an octet](https://github.com/genesis/wordpress/pull/66)
- v0.2.29 – [Apache + PHP performance tuning](https://github.com/genesis/wordpress/pull/64)
- v0.2.28 – Update with last PRs from Genesis WordPress Generator
- v0.2.27 – Awwww snap!! Making it so the [Genesis WordPress Generator](https://github.com/genesis/generator-wordpress) is always up-to-date!
- v0.2.26 – Use `sudo` instead of `invoke_command` ([#41](https://github.com/genesis/wordpress/issues/41))
- v0.2.25 – Directories are now `775` and owned by `deploy:www-data` ([#31](https://github.com/genesis/wordpress/issues/31))
- v0.2.24 – Set Varnish & PHP to `512M`
- v0.2.23 – Only bypass for logged in users, not logged out
- v0.2.22 – Bypass cache for logged in users ([#19](https://github.com/genesis/wordpress/pull/19))
- v0.2.21 – Run genesis:permissions on server, not local!
- v0.2.20 – Fix `genesis:permissions`
- v0.2.19 – Fix permissions after `deploy` & `genesis:files:up`
- v0.2.18 – Remove pretty_print.  **VERBOSE ERRORS FTW!!!**
- v0.2.17 – Add `curl` as default module
- v0.2.17 – Don't sync `.sql` files by default
- v0.2.16 – `chmod 600` the ssh key only if it exists
- v0.2.15 – Rename production logs from `www-` to `production-`
- v0.2.14 – Localize `wp_get_attachment_url`
- v0.2.13 – `chmod 600` the ssh key when running `genesis:down/up`
- v0.2.12 – Remove `genesis:restart` after `genesis:down:*`
- v0.2.11 – Fix URLs for uploads & permalinks
- v0.2.10 – Fix get_option( 'home' )
- v0.2.9 – Remove probe for `/server-status`
- v0.2.8 – Fix local access log
- v0.2.7 – Restart after all `genesis:down:*` and `genesis:up:*`
- v0.2.6 – Add priority to vhosts
- v0.2.5 – Set deploy shell to `/bin/bash`
- v0.2.4 – `genesis:restart` runs on all `genesis:up` commands
- v0.2.3 – Fix bug with static assets being cached by Varnish
- v0.2.2 – Fix bug when inferring `:branch`
- v0.2.1 – Fix bug when `git branch` returns nothing
- v0.2.1 – Remove Varnish error pages
- v0.2.0 – Rename `genesis:tail` to `genesis:logs`
- v0.1.21 – Bypass Varnish for `4xx` & `5xx` error codes
- v0.1.20 – Bypass Varnish for `local.`, `wp-login`, and `wp-admin`
- v0.1.20 – Run `genesis:restart` after `deploy:restart`
- v0.1.19 – Add Varnish to `restart`, `start`, `stop`
- v0.1.18 – Initial Varnish
- v0.1.17 – Add `shared_children`
- v0.1.16 – `chmod 600 id_rsa`
- v0.1.15 – Sync with generator-genesis-wordpress#`0.1.6`
- v0.1.14 – Re-order NodeJS installation
- v0.1.13 – Update cache before NodeJS
- v0.1.12 – Bad ansible command (NodeJS)
- v0.1.11 – Forgot to install NodeJS
- v0.1.10 – Attempt to install NodeJS + Bower
- v0.1.9 – Fix `v0.1.8`
- v0.1.8 – Add filter for `option_siteurl` to fix redirects in `wp-admin`
- v0.1.7 – Fix `ssh` & remove `WP_SITEURL`
- v0.1.6 – Rename `wp` capistrano task namespace to `genesis`
- v0.1.5 – Add `cache` to `rsync_exclude` folders
- v0.1.4 – Bower release
